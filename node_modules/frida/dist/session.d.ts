/// <reference types="node" />
import { Cancellable } from "./cancellable";
import { Crash } from "./crash";
import { Script, ScriptOptions } from "./script";
import { Signal } from "./signals";
import { inspect } from "util";
export declare class Session {
    private impl;
    detached: Signal<SessionDetachedHandler>;
    constructor(impl: any);
    get pid(): number;
    detach(cancellable?: Cancellable): Promise<void>;
    enableChildGating(cancellable?: Cancellable): Promise<void>;
    disableChildGating(cancellable?: Cancellable): Promise<void>;
    createScript(source: string, options?: ScriptOptions, cancellable?: Cancellable): Promise<Script>;
    createScriptFromBytes(bytes: Buffer, options?: ScriptOptions, cancellable?: Cancellable): Promise<Script>;
    compileScript(source: string, options?: ScriptOptions, cancellable?: Cancellable): Promise<Buffer>;
    enableDebugger(options?: EnableDebuggerOptions, cancellable?: Cancellable): Promise<void>;
    disableDebugger(cancellable?: Cancellable): Promise<void>;
    enableJit(cancellable?: Cancellable): Promise<void>;
    [inspect.custom](depth: any, options: any): string;
}
export declare type SessionDetachedHandler = (reason: SessionDetachReason, crash: Crash | null) => void;
export declare enum SessionDetachReason {
    ApplicationRequested = "application-requested",
    ProcessReplaced = "process-replaced",
    ProcessTerminated = "process-terminated",
    ServerTerminated = "server-terminated",
    DeviceLost = "device-lost"
}
export interface EnableDebuggerOptions {
    port?: number;
}
